;;; Error-Tools -- Summary:
;;; Commentary:
;;; configuration of error checking packages for Emacs
;;; generated by Zach Maas

;;; Code:

;; ispell - simple and easy spellchecking for LaTeX editing
(use-package ispell
	:diminish	(flyspell-mode "sp")
	:diminish	(flyspell-prog-mode "sp")
	:init
	(use-package flyspell-correct
		:straight t
		:init
		(use-package flyspell-correct-ivy
			:straight t)
		:config)
	:config
	(setq ispell-program-name "aspell")
	(setq ispell-dictionary "english")
	(setq ispell-extra-args
				(list "--sug-mode=normal" ;; ultra|fast|normal|bad-spellers
							"--lang=en_US"))
	(add-hook 'prog-mode-hook 'flyspell-prog-mode)
	(lambda ()
		(unless (derived-mode-p 'git-commit-mode)
			(flyspell-mode t)))
	(add-hook 'text-mode-hook 'flyspell-mode)
	(set 'flyspell-correct-auto-mode nil))

;; writegood mode checks errors
(use-package writegood-mode
	:straight t
	:config
	(add-hook 'text-mode-hook #'writegood-mode))

;; langtool provides easy grammar checking
(use-package langtool
	:straight t
	:config
	(setq langtool-java-classpath
				"/usr/share/languagetool:/usr/share/java/languagetool/*"))

;; Synosaurus gives us easy synonyms
(use-package synosaurus
  :straight t
	:diminish ""
  :init
  (setq-default synosaurus-backend 'synosaurus-backend-wordnet)
	(setq-default synosaurus-choose-method 'ido)
  (add-hook 'after-init-hook #'synosaurus-mode))

;; flycheck gives us global syntax checking and eroor popups in our code
(use-package flycheck
	:straight t
	:diminish (flycheck-mode "fc")
	:defer t
	:init
	(use-package flycheck-popup-tip
		:straight t)
	:config
	(setq flycheck-check-syntax-automatically '(mode-enabled save
																													 idle-change new-line))
	(add-hook 'after-init-hook #'global-flycheck-mode)
	(add-hook 'prog-mode-hook #'flycheck-popup-tip-mode))

;;; zm-errorchecks.el ends here
